{% extends 'layouts/main.html'%}
{% load static %}

{% block body %}
    
    <div class="container my-5">
        <div class="row">
         <h1 class="text-center mb-5">Shopping Cart</h1>
         <div class="col-sm-8">
         <div class="card">
          <div class="card-body">
           <h3>Cart</h3>
           {%for card in cart %}
           <hr />
           <div class="row">
            <div class="col-sm-3 text-center align-self-center"><img src="{{card.product.product_image.url}}" alt="" srcset="" class="img-fluid img-thumbnail shadow-sm" height="150" width="150"> </div>
            <div class="col-sm-9">
             <div>
              <h5>{{card.product.name}}</h5>
              <p class="mb-2 text-muted small">{{card.product.description}}</p>
              <div class="my-3">

                <label for="quantity">Quantity: </label>
<a id="minus-cart" class="minus-cart btn" pid="{{card.product.id}}"><i class="fas fa-minus-square fa-lg"></i></a>
<span id="quantity" data-min="1" data-max="10">{{card.product_qty}}</span>
<a id="plus-cart" class="plus-cart btn" pid="{{card.product.id}}"><i class="fas fa-plus-square fa-lg"></i></a>

                
               
              </div> 
              <div class="d-flex justify-content-between">
               <a href="#" class="btn btn-sm btn-secondary mr-3 remove-cart" pid='{{card.product.id}}'>Remove item </a>
               <p class="mb-0"><span><strong>Rs. {{card.product.selling_price}}</strong></span></p>
              </div>
             </div>
            </div>
           </div>
           {% endfor %}
          </div>
          </div>
         </div>
       
         <div class="col-sm-4">
          <div class="card">
           <div class="card-body">
             <h3>The Total Amount of</h3>
             <ul class="list-group">
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                Amount<span id="amount">Rs. {{amount}}</span></li>
              
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
               <div>
                  <strong>Total</strong> <small>(including VAT)</small>
                </div>
                <span><strong>Rs. <strong id="totalamount">{{totalamount}}</strong></strong></span>
              </li>
             </ul>
             
             <div class="d-grid"><a href="{% url 'checkout'%}" class="btn btn-primary">Place Order</a></div>
             
           </div>
          </div>
         </div>
         
        </div>
       </div>
       <!-- <div class="container">
        <div class="row">
         <div class="col-sm-8">
          <div class="card">
           <div class="card-body">
             <h5 class="mb-4">We accept</h5>
             <img src="{% static 'app/images/payment.png' %}" alt="" class="img-fluid">
           </div>
         </div>
         </div>
        </div>
       </div> -->

       <!-- Jquery -->

    {% block js %}

    
<script>
   
   function removeItem(event) {
      event.preventDefault(); // Prevent the default behavior of the anchor tag
      var productId = event.target.getAttribute('pid');
      
      // Perform your AJAX request to remove the item
      // ...
      
      // After removing the item, refresh the page
      setTimeout(function() {
         location.reload();
      }, 100); // Refresh after 1 second
   }

</script>


       
       
       <script src="{% static '/js/owl.carousel.min.js' %}"></script>
       <script src="{% static '/js/all.min.js' %}"></script>
       <script src="{% static '/js/myscript.js' %}"></script>

    {% endblock js%}

{% endblock body %}
